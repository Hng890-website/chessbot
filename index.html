<!DOCTYPE html>
<html lang="vi">
<head>
    <script type="text/javascript">
        (function() {
            let currentPath = window.location.pathname;
            if (currentPath.endsWith('/') && !currentPath.toLowerCase().includes('index.html')) {
                let newUrl = window.location.href + 'index.html';
                window.location.replace(newUrl);
            }
        })();

        // H√ÄM JS TH·ª∞C HI·ªÜN ·∫®N THANH C√îNG C·ª§ (Ph∆∞∆°ng ph√°p x√≥a m·∫°nh m·∫Ω)
        function hideGoogleTranslateToolbar() {
            // Iframe ch√≠nh c·ªßa thanh c√¥ng c·ª• lu√¥n c√≥ class n√†y.
            const toolbar = document.querySelector('.goog-te-banner-frame'); 
            const body = document.body;

            if (toolbar) {
                // X√≥a h·∫≥n iframe kh·ªèi DOM
                toolbar.remove(); 
                
                // ƒê·∫∑t l·∫°i body ƒë·ªÉ tr√°nh kho·∫£ng tr·ªëng
                body.style.top = '0px';
                body.style.marginTop = '0px';
                body.style.paddingTop = '0px';
                
                // D·ªçn d·∫πp b·∫•t k·ª≥ div skiptranslate n√†o kh√°c m√† Google th√™m v√†o
                const skipTranslateDiv = document.querySelector('.skiptranslate');
                if (skipTranslateDiv) {
                    skipTranslateDiv.remove();
                }
                
                // D·ª´ng vi·ªác ki·ªÉm tra li√™n t·ª•c sau khi ƒë√£ ·∫©n th√†nh c√¥ng
                clearInterval(window.translateIntervalId);
                return true; // ƒê√£ ·∫©n
            }
            return false; // Ch∆∞a ·∫©n
        }

        // H√†m kh·ªüi t·∫°o Google Translate Widget
        function googleTranslateElementInit() {
          new google.translate.TranslateElement({
            pageLanguage: 'vi', 
            includedLanguages: 'vi,en,es,fr,zh-CN', 
            layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
            autoDisplay: false
          }, 'google_translate_element');
          
          // **CAN THI·ªÜP M·∫†NH NH·∫§T: B·∫Øt ƒë·∫ßu v√≤ng l·∫∑p x√≥a li√™n t·ª•c**
          // V√≤ng l·∫∑p n√†y s·∫Ω ch·∫°y m·ªói 500ms ƒë·ªÉ ƒë·∫£m b·∫£o x√≥a thanh c√¥ng c·ª•
          // ngay sau khi Google D·ªãch c·ªë g·∫Øng t·∫°o n√≥.
          window.translateIntervalId = setInterval(hideGoogleTranslateToolbar, 500);
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        
        <header class="main-menu">
            <div class="logo">mychess.org</div>
            <nav>
                <a href="#" onclick="showScreen('home'); return false;">Home</a>
                <a href="#" onclick="showScreen('play'); return false;">Play</a>
                <a href="#" onclick="showScreen('analyze'); return false;">Analyze</a>
                <a href="#" onclick="showScreen('news'); return false;">News</a>

                <div class="dropdown">
                    <button class="dropbtn">Language</button>
                    <div class="dropdown-content">
                        <a href="#" onclick="translatePage('vi'); return false;" data-lang="vi">üáªüá≥ Ti·∫øng Vi·ªát</a>
                        <a href="#" onclick="translatePage('en'); return false;" data-lang="en">üá∫üá∏ English</a>
                        <a href="#" onclick="translatePage('es'); return false;" data-lang="es">üá™üá∏ Espa√±ol</a>
                        <a href="#" onclick="translatePage('fr'); return false;" data-lang="fr">üá´üá∑ Fran√ßais</a>
                        <a href="#" onclick="translatePage('zh-CN'); return false;" data-lang="zh">üá®üá≥ ‰∏≠Êñá (Zh≈çngw√©n)</a>
                    </div>
                </div>
                </nav>
        </header>

        <div id="google_translate_element" style="display: none;"></div>


        <section id="home-screen" class="screen active">
            <h1>Ch√†o m·ª´ng ƒë·∫øn v·ªõi mychess.org</h1>
            <div class="main-content-area">
                
                <div class="battle-column">
                    <h2>B·∫Øt ƒë·∫ßu v√°n ƒë·∫•u</h2>
                    <p>H√£y ch·ªçn ch·∫ø ƒë·ªô ch∆°i c·ªßa b·∫°n:</p>
                    <div class="battle-actions">
                        <button class="action-btn">Play Online (Ch∆∞a ph√°t tri·ªÉn)</button>
                        <button class="action-btn green-doit-btn" onclick="openBotSelection()">Play vs Bot</button>
                    </div>
                </div>

                <div class="news-column">
                    <h2>Tin t·ª©c & S·ª± ki·ªán</h2>
                    <p><strong>01/01/2025:</strong> Ra m·∫Øt mychess.org Beta.</p>
                    <p><strong>15/01/2025:</strong> T√≠ch h·ª£p Bot Engine Stockfish Level 1-5.</p>
                    <a href="#" onclick="showScreen('news'); return false;">Xem th√™m...</a>
                </div>

            </div>
        </section>

        <section id="play-screen" class="screen">
            <div class="game-header">
                <h2>You (White) vs Bot Level 1 (Black)</h2>
                <button class="action-btn" onclick="openBotSelection()">Ch∆°i l·∫°i</button>
            </div>
            
            <div class="game-layout">
                
                <div id="chessboard-container">
                    <div id="chessboard">
                        </div>
                </div>

                <div class="game-chat-news">
                    <div class="chat-room">
                        <h3>Chat</h3>
                        <p><strong>System:</strong> B√†n c·ªù ƒë√£ s·∫µn s√†ng!</p>
                        <div class="chat-input-area">
                            <input type="text" placeholder="Nh·∫≠p tin nh·∫Øn..." id="chat-input">
                            <button class="action-btn send-btn">G·ª≠i</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="analyze-screen" class="screen">
            <h2>Ph√¢n t√≠ch V√°n c·ªù (Analyze)</h2>
            <p>T√≠nh nƒÉng n√†y ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn.</p>
        </section>

        <section id="news-screen" class="screen">
            <h2>Tin t·ª©c & C·∫≠p nh·∫≠t</h2>
            <p>ƒê√¢y l√† trang tin t·ª©c chi ti·∫øt. T√≠nh nƒÉng n√†y ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn.</p>
        </section>
        
        <div id="modal-overlay">
            <div class="select-option-popup">
                <a href="#" class="close-btn" onclick="closeBotSelection(); return false;">&times;</a>
                <h3>Ch·ªçn ƒë·ªëi th·ªß</h3>
                
                <label>T√™n Bot (T√πy ch·ªçn):</label>
                <input type="text" id="bot-name" placeholder="V√≠ d·ª•: Stockfish L5" style="width: 90%; padding: 5px; margin-bottom: 15px;">
                
                <label>C·∫•p ƒë·ªô Bot:</label>
                <div class="level-selection" id="level-selection">
                    <button class="level-btn" data-level="1">Level 1</button>
                    <button class="level-btn" data-level="2">Level 2</button>
                    <button class="level-btn" data-level="3">Level 3</button>
                    <button class="level-btn" data-level="4">Level 4</button>
                    <button class="level-btn" data-level="5">Level 5</button>
                    <button class="level-btn" data-level="6">Level 6</button>
                    <button class="level-btn" data-level="7">Level 7</button>
                    <button class="level-btn" data-level="8">Level 8</button>
                    <button class="level-btn" data-level="9">Level 9</button>
                    <button class="level-btn" data-level="10">Level 10</button>
                </div>
                
                <label>Qu√¢n c·ªù c·ªßa b·∫°n:</label>
                <div class="color-selection" id="color-selection">
                    <button class="color-btn" data-color="Tr·∫Øng">‚ôî</button>
                    <button class="color-btn" data-color="ƒêen">‚ôö</button>
                </div>
                
                <button class="action-btn start-btn green-doit-btn" onclick="startBotMatch()">B·∫Øt ƒë·∫ßu V√°n ƒë·∫•u!</button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.js"></script>
    <script src="script.js"></script>
</body>
</html>